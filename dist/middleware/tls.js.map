{"version":3,"file":"tls.js","sourceRoot":"","sources":["../../src/middleware/tls.ts"],"names":[],"mappings":"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"}